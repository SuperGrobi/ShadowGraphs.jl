<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Graph creation · ShadowGraphs.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://SuperGrobi.github.io/ShadowGraphs.jl/BuildGraph/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ShadowGraphs.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Graph creation</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li><li><a class="tocitem" href="../Persistence/">IO</a></li><li><a class="tocitem" href="../Plotting/">Plotting</a></li><li><a class="tocitem" href="../Projection/">Projection</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Graph creation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Graph creation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/main/docs/src/BuildGraph.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Building-Graphs"><a class="docs-heading-anchor" href="#Building-Graphs">Building Graphs</a><a id="Building-Graphs-1"></a><a class="docs-heading-anchor-permalink" href="#Building-Graphs" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>We use <code>LightOSM.jl</code> as a basis to handle all the downloading, saving and importing of OSM data. Therefore, we expose very functions very similar to the ones in <code>LightOSM.jl</code>.</p><p>Then, the resulting <code>LightOSM.OSMGraph</code> instance is parsed into a <code>MetaDiGraph</code>, which is preserves the topology of the original street network, while reducing the number of nodes as much as possible. The geometry and various other parameters are attached to the <code>props</code> of every edge and vertex.</p><p>Even though we only expose a few functions for ease of use, we show all functions here, since it is very important to get an idea of what exactly this code is doing to your graph, before you start using it in any scientific capacity.</p><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><ul><li><a href="#ShadowGraphs.add_edge_with_data!-Tuple{Any, Any, Any}"><code>ShadowGraphs.add_edge_with_data!</code></a></li><li><a href="#ShadowGraphs.add_this_node-Tuple{Any, Any}"><code>ShadowGraphs.add_this_node</code></a></li><li><a href="#ShadowGraphs.countall-Tuple{Any}"><code>ShadowGraphs.countall</code></a></li><li><a href="#ShadowGraphs.decompose_way_to_primitives-Tuple{LightOSM.Way}"><code>ShadowGraphs.decompose_way_to_primitives</code></a></li><li><a href="#ShadowGraphs.geolinestring-Tuple{Any, Any}"><code>ShadowGraphs.geolinestring</code></a></li><li><a href="#ShadowGraphs.get_node_list-NTuple{4, Any}"><code>ShadowGraphs.get_node_list</code></a></li><li><a href="#ShadowGraphs.get_rotational_direction-Tuple{LightOSM.Way, Any, Any}"><code>ShadowGraphs.get_rotational_direction</code></a></li><li><a href="#ShadowGraphs.is_circular_way-Tuple{LightOSM.Way}"><code>ShadowGraphs.is_circular_way</code></a></li><li><a href="#ShadowGraphs.is_end_node-Tuple{Any, Any}"><code>ShadowGraphs.is_end_node</code></a></li><li><a href="#ShadowGraphs.parse_lanes-Tuple{AbstractDict, Any}"><code>ShadowGraphs.parse_lanes</code></a></li><li><a href="#ShadowGraphs.parse_raw_ways-Tuple{Any, Any}"><code>ShadowGraphs.parse_raw_ways</code></a></li><li><a href="#ShadowGraphs.shadow_graph_from_download-Tuple{Symbol}"><code>ShadowGraphs.shadow_graph_from_download</code></a></li><li><a href="#ShadowGraphs.shadow_graph_from_file-Tuple{String}"><code>ShadowGraphs.shadow_graph_from_file</code></a></li><li><a href="#ShadowGraphs.shadow_graph_from_light_osm_graph-Tuple{Any}"><code>ShadowGraphs.shadow_graph_from_light_osm_graph</code></a></li><li><a href="#ShadowGraphs.shadow_graph_from_object-Tuple{Union{LightXML.XMLDocument, Dict}}"><code>ShadowGraphs.shadow_graph_from_object</code></a></li><li><a href="#ShadowGraphs.width-Tuple{Any}"><code>ShadowGraphs.width</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.add_edge_with_data!-Tuple{Any, Any, Any}" href="#ShadowGraphs.add_edge_with_data!-Tuple{Any, Any, Any}"><code>ShadowGraphs.add_edge_with_data!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_edge_with_data!(g, s, d; data=Dict())</code></pre><p>adds new edge from <code>s</code> to <code>d</code> to <code>g::MetaDiGraph</code>, and populates it with the <code>props</code> given in <code>data</code>.</p><p><code>data</code> is expected to have at least a key <code>:edgegeom</code>, containing the geometry of the street between <code>s</code> and <code>d</code> as an <code>ArchGDAL linestring</code> in the WSG84 system. (Use <code>apply_wsg_84!</code>)</p><p>Special care is given to self and multi edges:</p><ul><li>self edges: if <code>s==d</code>, actually two new vertices are added at 10% and 60% along the <code>:edgegeom</code>, with <code>props</code> of <code>:lat</code>, <code>:lon</code>, <code>pointgeom</code> and <code>:helper=true</code> set acordingly.</li></ul><p>These new vertices (<code>h1</code> and <code>h2</code>) are then connected to form a loop like: <code>s --he1--&gt; h1 --real_edge--&gt; h2 --he2--&gt; d</code>, where <code>he1</code> and <code>he2</code> are helper edges with only one <code>prop</code> of <code>:helper=true</code>. <code>real_edge</code> is carrying all the <code>props</code> defined in <code>data</code></p><ul><li>multi edges: if <code>Edge(s,d) ∈ Edges(g)</code>, we add one new helper vertex at 50% along the <code>:edgegeom</code> with <code>props</code> of <code>:lat</code>, <code>:lon</code>, <code>pointgeom</code> and <code>:helper=true</code>.</li></ul><p>We connect to the graph like this: <code>s --he--&gt; h --real_edge--&gt; d</code>, where <code>he</code> is a helper edge with only one <code>prop</code>, <code>:helper=true</code>. <code>real_edge</code> carries all the <code>props</code> specified in <code>data</code></p><p>This process is nessecary to preserve the street network topology, since <code>MetaDiGraph</code>s do not support multi edges (and therefore also no multi self edges).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L120-L138">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.add_this_node-Tuple{Any, Any}" href="#ShadowGraphs.add_this_node-Tuple{Any, Any}"><code>ShadowGraphs.add_this_node</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_this_node(g, osm_id)</code></pre><p>checks if the node with <code>osm_id</code> in graph <code>g</code> should be added to the shadow graph. Churrently, we add a node if one of the following is true:</p><ul><li>if the number of ways the node is part of is larger than 1</li><li>if the node is the end of a street, that is, if he has only one neighbour in <code>g</code></li><li>if the node occurs more than once in the way it is part of, excluding the end point, if the way is circular</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L291-L299">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.countall-Tuple{Any}" href="#ShadowGraphs.countall-Tuple{Any}"><code>ShadowGraphs.countall</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">countall(numbers)</code></pre><p>counts how often every number appears in numbers. Returns dict with <code>number=&gt;count</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L185-L189">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.decompose_way_to_primitives-Tuple{LightOSM.Way}" href="#ShadowGraphs.decompose_way_to_primitives-Tuple{LightOSM.Way}"><code>ShadowGraphs.decompose_way_to_primitives</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">decompose_way_to_primitives(way::Way)</code></pre><p>Decomposed a <code>way</code> with possible self-intersections/loops into multiple ways which are guaranteed to be either</p><ul><li>non-intersecting lines, where every node in the way is unique, or</li><li>circular ways, where only the first and last node in the way are not unique.</li></ul><p><strong>example</strong></p><p>a simple <code>way</code> with nodes <code>[10,20,30,40,50,30]</code> (which looks like a triangle on a stick, not the repeated <code>30</code>) will be decomposed into two ways, with the nodes <code>[10,20,30]</code> and <code>[30,40,50,30]</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L193-L204">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.geolinestring-Tuple{Any, Any}" href="#ShadowGraphs.geolinestring-Tuple{Any, Any}"><code>ShadowGraphs.geolinestring</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">geolinestring(nodes, node_id_list)</code></pre><p>creates an <code>ArchGDAL linestring</code> from a dictionary mapping osm node ids to <code>LightOSM.Node</code> and a list of osm node ids, representing the nodes of the linestring in order.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L232-L237">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.get_node_list-NTuple{4, Any}" href="#ShadowGraphs.get_node_list-NTuple{4, Any}"><code>ShadowGraphs.get_node_list</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_node_list(simple_way, start_osm_id, topological_nodes, direction)</code></pre><p>tries to get list of osm ids in <code>simple_way</code> between the start<em>osm</em>id and the next topologically relevant node in direction of <code>direction</code>. Returns either <code>Int[]</code> or <code>nothing</code> if there is no relevant node in direction of <code>direction</code>.</p><p>Used only on simplified ways.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L324-L332">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.get_rotational_direction-Tuple{LightOSM.Way, Any, Any}" href="#ShadowGraphs.get_rotational_direction-Tuple{LightOSM.Way, Any, Any}"><code>ShadowGraphs.get_rotational_direction</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_rotational_direction(way::Way, nodes, direction)</code></pre><p>calculates the direction of rotation of the way if walked through in the direction of <code>direction</code> (either 1 or -1). Since the node locations are stored seperately, you have to pass in a dict <code>node_id=&gt;LightOSM.Node</code> seperately. Used only on simplified ways.</p><p><strong>Returns</strong></p><ul><li><code>1</code> if the rotation is righthanded</li><li><code>-1</code> if the rotation is lefthanded</li><li><code>0</code> if the way is not closed</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L247-L258">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.is_circular_way-Tuple{LightOSM.Way}" href="#ShadowGraphs.is_circular_way-Tuple{LightOSM.Way}"><code>ShadowGraphs.is_circular_way</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_circular_way(way::Way)</code></pre><p>checks if a <code>LightOSM.Way</code> way starts at the same node it ends.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L177-L181">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.is_end_node-Tuple{Any, Any}" href="#ShadowGraphs.is_end_node-Tuple{Any, Any}"><code>ShadowGraphs.is_end_node</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_end_node(g, index)</code></pre><p>checks if node <code>index</code> in graph <code>g</code> represents the end of a street (that is, has as most one neighbour).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L100-L104">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.parse_lanes-Tuple{AbstractDict, Any}" href="#ShadowGraphs.parse_lanes-Tuple{AbstractDict, Any}"><code>ShadowGraphs.parse_lanes</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">parse_lanes(tags::AbstractDict, tagname)</code></pre><p>parses the value of the key <code>tagname</code> in <code>tags</code>, assuming it to be a numerical value describing a certain number of lanes. Returns the parsed number of lanes if the tag exists or <code>missing</code> if not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L20-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.parse_raw_ways-Tuple{Any, Any}" href="#ShadowGraphs.parse_raw_ways-Tuple{Any, Any}"><code>ShadowGraphs.parse_raw_ways</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">parse_raw_ways(raw_ways, network_type)</code></pre><p>parses a list of dicts describing OSM Ways into <code>LightOSM.Way</code> instances. This function is a slightly modified version of the one used in <code>LightOSM</code> (<code>parse_osm_network_dict</code>), to be able to use our own, non-dafault value assuming parsers for the labels.</p><p><strong>returns</strong></p><p>a dictionary mapping <code>osm_id</code> to <code>LightOSM.Way</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L48-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.shadow_graph_from_download-Tuple{Symbol}" href="#ShadowGraphs.shadow_graph_from_download-Tuple{Symbol}"><code>ShadowGraphs.shadow_graph_from_download</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function shadow_graph_from_download(download_method::Symbol;
                                    network_type::Symbol=:drive,
                                    metadata::Bool=false,
                                    download_format::Symbol=:json,
                                    save_to_file_location::Union{String,Nothing}=nothing,
                                    download_kwargs...)</code></pre><p>downloads and builds the shadow graph from OSM.</p><p><strong>arguments</strong></p><ul><li><code>download_method::Symbol</code>: Download method, choose from <code>:place_name</code>, <code>:bbox</code> or <code>:point</code>.</li><li><code>network_type::Symbol=:drive</code>: Network type filter, pick from <code>:drive</code>, <code>:drive_service</code>, <code>:walk</code>, <code>:bike</code>, <code>:all</code>, <code>:all_private</code>, <code>:none</code>, <code>:rail</code></li><li><code>metadata::Bool=false</code>: Set true to return metadata.</li><li><code>download_format::Symbol=:json</code>: Download format, either <code>:osm</code>, <code>:xml</code> or <code>json</code>.</li><li><code>save_to_file_location::Union{String,Nothing}=nothing</code>: Specify a file location to save downloaded data to disk.</li></ul><p><strong>Required Kwargs for each Download Method</strong></p><p><em><code>download_method=:place_name</code></em></p><ul><li><code>place_name::String</code>: Any place name string used as a search argument to the Nominatim API.</li></ul><p><em><code>download_method=:bbox</code></em></p><ul><li><code>minlat::AbstractFloat</code>: Bottom left bounding box latitude coordinate.</li><li><code>minlon::AbstractFloat</code>: Bottom left bounding box longitude coordinate.</li><li><code>maxlat::AbstractFloat</code>: Top right bounding box latitude coordinate.</li><li><code>maxlon::AbstractFloat</code>: Top right bounding box longitude coordinate.</li></ul><p><em><code>download_method=:point</code></em></p><ul><li><code>point::GeoLocation</code>: Centroid point to draw the bounding box around.</li><li><code>radius::Number</code>: Distance (km) from centroid point to each bounding box corner.</li></ul><p><em><code>download_method=:polygon</code></em></p><ul><li><code>polygon::AbstractVector</code>: Vector of longitude-latitude pairs.</li></ul><p><strong>Network Types</strong></p><ul><li><code>:drive</code>: Motorways excluding private and service ways.</li><li><code>:drive_service</code>: Motorways including private and service ways.</li><li><code>:walk</code>: Walkways only.</li><li><code>:bike</code>: Cycleways only.</li><li><code>:all</code>: All motorways, walkways and cycleways excluding private ways.</li><li><code>:all_private</code>: All motorways, walkways and cycleways including private ways.</li><li><code>:none</code>: No network filters.</li><li><code>:rail</code>: Railways excluding proposed and platform.</li></ul><p><strong>returns</strong></p><p><code>MetaDiGraph</code> with topologically relevant nodes and edges and relevant data attached to every node and edge.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L563-L610">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.shadow_graph_from_file-Tuple{String}" href="#ShadowGraphs.shadow_graph_from_file-Tuple{String}"><code>ShadowGraphs.shadow_graph_from_file</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shadow_graph_from_file(file_path::String; network_type::Symbol=:drive)</code></pre><p>builds the shadow graph from a file containing OSM data. The file could have been downloaded with either <code>shadow_graph_from_download</code> or <code>download_osm_network</code>.</p><p><strong>arguments</strong></p><ul><li>file_path: path to file. either <code>.osm</code>, <code>.xml</code> or <code>.json</code></li><li>network_type: type of network stored in file. Options are the same as in <code>LightOSM</code>: </li></ul><p><code>:drive</code>, <code>:drive_service</code>, <code>:walk</code>, <code>:bike</code>, <code>:all</code>, <code>:all_private</code>, <code>:none</code>, <code>:rail</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L544-L554">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.shadow_graph_from_light_osm_graph-Tuple{Any}" href="#ShadowGraphs.shadow_graph_from_light_osm_graph-Tuple{Any}"><code>ShadowGraphs.shadow_graph_from_light_osm_graph</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shadow_graph_from_light_osm_graph(g)</code></pre><p>transforms a <code>LightOSM.OSMGraph</code> into a <code>MetaDiGraph</code>, containing only the topologically relevant nodes and edges. Attached to every edge and node comes a lot of data, describing this specific edge or node:</p><p><strong>nodes</strong></p><p>in the case of helper nodes:</p><ul><li><code>:lat</code></li><li><code>:lon</code></li><li><code>pointgeom</code></li><li><code>:helper=true</code></li></ul><p>in the case of non helper nodes:</p><ul><li><code>:osm_id</code></li><li><code>:lat</code></li><li><code>:lon</code></li><li><code>pointgeom</code></li><li><code>:helper=false</code></li></ul><p><strong>edges</strong></p><p>in the case of helper edges:</p><ul><li><code>:helper=true</code></li></ul><p>in the case of non helper edges:</p><ul><li><code>:osm_id</code></li><li><code>:tags</code> (tags of the original osm way, with parsed <code>width</code>, <code>lanes</code>, <code>lanes:forward</code>, <code>lanes:backward</code> and <code>lanes:both_ways</code>, <code>oneway</code> and <code>reverseway</code> keys)</li><li><code>:edgegeom_base</code> (<code>ArchGDAL linestring</code> with the geometry of the edge. Should not be modified during subsequent operations.)</li><li><code>:edgegeom</code> (copy of <code>:edgegeom_base</code>. This one will be modified during offsetting and such.)</li><li><code>:full_length</code> (length of <code>edgegeom</code> in a projected crs)</li><li><code>:parsing_direction</code> (direction in which we stepped through the original way nodes to get the linestring)</li><li><code>:helper</code>=false </li></ul><p>the props &#39;[:osm<em>id, :tags, :edgegeom</em>base, :parsing<em>direction, :helper] are considered read-only. (Editing them might cause strange behaviour. Always duplicate the `:edgegeom</em>base<code>with</code>ArchGDAL.clone`)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L384-L418">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.shadow_graph_from_object-Tuple{Union{LightXML.XMLDocument, Dict}}" href="#ShadowGraphs.shadow_graph_from_object-Tuple{Union{LightXML.XMLDocument, Dict}}"><code>ShadowGraphs.shadow_graph_from_object</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shadow_graph_from_object(osm_data_object::Union{XMLDocument,Dict}; network_type::Symbol=:drive)</code></pre><p>builds the shadow graph from an object holding the raw OSM data. This function is using the <code>graph_from_object</code> function from <code>LightOSM</code> to first build a <code>LightOSM.OSMGraph</code> object which then gets augmented with the custom parsed ways, before it gets handed over to the <code>shadow_graph_from_light_osm_graph</code> function.</p><p><strong>arguments</strong></p><ul><li>osm<em>data</em>object</li><li>network<em>type: type of network stored in osm</em>data_object. Options are the same as in <code>LightOSM</code>: </li></ul><p><code>:drive</code>, <code>:drive_service</code>, <code>:walk</code>, <code>:bike</code>, <code>:all</code>, <code>:all_private</code>, <code>:none</code>, <code>:rail</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L514-L525">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.width-Tuple{Any}" href="#ShadowGraphs.width-Tuple{Any}"><code>ShadowGraphs.width</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">width(tags)</code></pre><p>less opinionated version of the basic parsing <code>LightOSM</code> does, to parse the <code>width</code> tag of an osm way. Returns the parsed width if the tag exists or <code>missing</code> if not.If Values are negative, we take the absolute value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/e171ff4372a10944f5c30796cf8816542dc86d2b/src/BuildGraph.jl#L1-L6">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../Persistence/">IO »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Monday 20 March 2023 15:25">Monday 20 March 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
