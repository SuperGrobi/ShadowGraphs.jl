<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Graph creation · ShadowGraphs.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://SuperGrobi.github.io/ShadowGraphs.jl/BuildGraph/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ShadowGraphs.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Graph creation</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li><li><a class="tocitem" href="../Persistence/">Graph saving (and loading)</a></li><li><a class="tocitem" href="../Measures/">Graph Measures</a></li><li><a class="tocitem" href="../Pedestrianization/">Pedestrianization</a></li><li><a class="tocitem" href="../Plotting/">Plotting</a></li><li><a class="tocitem" href="../Projection/">Projection</a></li><li><a class="tocitem" href="../RTreeBuilding/">RTree Building</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Graph creation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Graph creation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/main/docs/src/BuildGraph.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Building-Graphs"><a class="docs-heading-anchor" href="#Building-Graphs">Building Graphs</a><a id="Building-Graphs-1"></a><a class="docs-heading-anchor-permalink" href="#Building-Graphs" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>We use <code>LightOSM.jl</code> as a basis to handle all the downloading, saving and importing of OSM data. We provide similar functions for (down)loading graphs which should feel very similar to any user of <code>LightOSM</code>.</p><p>The <code>LightOSM.OSMGraph</code> instance is parsed and simplified into a <code>MetaDiGraph</code>, preserving the topology of the original street network, while reducing the number of nodes as much as possible. The geometry and various other parameters are attached to the <code>props</code> of every edge and vertex.</p><p>One noteable difference to the <code>LightOSM</code> graphs is that we take special care to not assume anything about the dataset from OSM. Therefore, whenever there is no information available about a certain tag, we parse it as <code>missing</code>, rather than setting a default value.</p><p><img src="../assets/graph_simplification.png" alt="Process of graph simplification"/></p><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><ul><li><a href="#ShadowGraphs.add_edge_with_data!"><code>ShadowGraphs.add_edge_with_data!</code></a></li><li><a href="#ShadowGraphs.add_this_node"><code>ShadowGraphs.add_this_node</code></a></li><li><a href="#ShadowGraphs.countall"><code>ShadowGraphs.countall</code></a></li><li><a href="#ShadowGraphs.decompose_way_to_primitives"><code>ShadowGraphs.decompose_way_to_primitives</code></a></li><li><a href="#ShadowGraphs.geolinestring"><code>ShadowGraphs.geolinestring</code></a></li><li><a href="#ShadowGraphs.get_all_node_lists"><code>ShadowGraphs.get_all_node_lists</code></a></li><li><a href="#ShadowGraphs.get_rotational_direction"><code>ShadowGraphs.get_rotational_direction</code></a></li><li><a href="#ShadowGraphs.is_circular_way"><code>ShadowGraphs.is_circular_way</code></a></li><li><a href="#ShadowGraphs.is_end_node"><code>ShadowGraphs.is_end_node</code></a></li><li><a href="#ShadowGraphs.parse_lanes"><code>ShadowGraphs.parse_lanes</code></a></li><li><a href="#ShadowGraphs.parse_raw_ways"><code>ShadowGraphs.parse_raw_ways</code></a></li><li><a href="#ShadowGraphs.shadow_graph_from_download"><code>ShadowGraphs.shadow_graph_from_download</code></a></li><li><a href="#ShadowGraphs.shadow_graph_from_file"><code>ShadowGraphs.shadow_graph_from_file</code></a></li><li><a href="#ShadowGraphs.shadow_graph_from_light_osm_graph"><code>ShadowGraphs.shadow_graph_from_light_osm_graph</code></a></li><li><a href="#ShadowGraphs.shadow_graph_from_object"><code>ShadowGraphs.shadow_graph_from_object</code></a></li><li><a href="#ShadowGraphs.width"><code>ShadowGraphs.width</code></a></li></ul><h3 id="Exposed-functions"><a class="docs-heading-anchor" href="#Exposed-functions">Exposed functions</a><a id="Exposed-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Exposed-functions" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.shadow_graph_from_file" href="#ShadowGraphs.shadow_graph_from_file"><code>ShadowGraphs.shadow_graph_from_file</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">shadow_graph_from_file(file_path::String; network_type::Symbol=:drive, timezone=tz&quot;Europe/London&quot;)</code></pre><p>builds the shadow graph from a file containing OSM data. The file could have been downloaded with either <code>shadow_graph_from_download</code> or <code>LightOSM.download_osm_network</code>.</p><p><strong>arguments</strong></p><ul><li>file_path: path to file. either <code>.osm</code>, <code>.xml</code> or <code>.json</code></li><li>network_type: type of network stored in file. Options are the same as in <code>LightOSM</code>: </li></ul><p><code>:drive</code>, <code>:drive_service</code>, <code>:walk</code>, <code>:bike</code>, <code>:all</code>, <code>:all_private</code>, <code>:none</code>, <code>:rail</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L518-L528">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.shadow_graph_from_download" href="#ShadowGraphs.shadow_graph_from_download"><code>ShadowGraphs.shadow_graph_from_download</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function shadow_graph_from_download(download_method::Symbol;
                                    timezone=tz&quot;Europe/London&quot;,
                                    network_type::Symbol=:drive,
                                    metadata::Bool=false,
                                    download_format::Symbol=:json,
                                    save_to_file_location::Union{String,Nothing}=nothing,
                                    download_kwargs...)</code></pre><p>downloads and builds the shadow graph from OSM.</p><p><strong>arguments</strong></p><ul><li><code>download_method::Symbol</code>: Download method, choose from <code>:place_name</code>, <code>:bbox</code>, <code>:point</code>, <code>:polygon</code> and (added by this package) <code>:extent</code>.</li><li><code>timezone</code>: Timezone the streets are in.</li><li><code>network_type::Symbol=:drive</code>: Network type filter, pick from <code>:drive</code>, <code>:drive_service</code>, <code>:walk</code>, <code>:bike</code>, <code>:all</code>, <code>:all_private</code>, <code>:none</code>, <code>:rail</code></li><li><code>metadata::Bool=false</code>: Set true to return metadata.</li><li><code>download_format::Symbol=:json</code>: Download format, either <code>:osm</code>, <code>:xml</code> or <code>json</code>.</li><li><code>save_to_file_location::Union{String,Nothing}=nothing</code>: Specify a file location to save downloaded data to disk.</li></ul><p><strong>Required Kwargs for each Download Method</strong></p><p><em><code>download_method=:place_name</code></em></p><ul><li><code>place_name::String</code>: Any place name string used as a search argument to the Nominatim API.</li></ul><p><em><code>download_method=:bbox</code></em></p><ul><li><code>minlat::AbstractFloat</code>: Bottom left bounding box latitude coordinate.</li><li><code>minlon::AbstractFloat</code>: Bottom left bounding box longitude coordinate.</li><li><code>maxlat::AbstractFloat</code>: Top right bounding box latitude coordinate.</li><li><code>maxlon::AbstractFloat</code>: Top right bounding box longitude coordinate.</li></ul><p><em><code>download_method=:point</code></em></p><ul><li><code>point::GeoLocation</code>: Centroid point to draw the bounding box around.</li><li><code>radius::Number</code>: Distance (km) from centroid point to each bounding box corner.</li></ul><p><em><code>download_method=:polygon</code></em></p><ul><li><code>polygon::AbstractVector</code>: Vector of longitude-latitude pairs.</li></ul><p><em><code>download_method=:extent</code></em></p><ul><li><code>extent::Extents.Extent</code>: Extent holding the bounding box for the download. Follows the <code>GeoInterface</code> convention (for example <code>extent=Extent(X=(minlon, maxlon), Y=(minlat, maxlat))</code>)</li></ul><p><strong>Network Types</strong></p><ul><li><code>:drive</code>: Motorways excluding private and service ways.</li><li><code>:drive_service</code>: Motorways including private and service ways.</li><li><code>:walk</code>: Walkways only.</li><li><code>:bike</code>: Cycleways only.</li><li><code>:all</code>: All motorways, walkways and cycleways excluding private ways.</li><li><code>:all_private</code>: All motorways, walkways and cycleways including private ways.</li><li><code>:none</code>: No network filters.</li><li><code>:rail</code>: Railways excluding proposed and platform.</li></ul><p><strong>returns</strong></p><p><code>MetaDiGraph</code> with topologically relevant nodes and edges and relevant data attached to every node and edge.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L538-L590">source</a></section></article><h3 id="Internals"><a class="docs-heading-anchor" href="#Internals">Internals</a><a id="Internals-1"></a><a class="docs-heading-anchor-permalink" href="#Internals" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.shadow_graph_from_object" href="#ShadowGraphs.shadow_graph_from_object"><code>ShadowGraphs.shadow_graph_from_object</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">shadow_graph_from_object(osm_data_object::Union{XMLDocument,Dict}; network_type::Symbol=:drive, timezone)</code></pre><p>builds the shadow graph from an object holding the raw OSM data. This function is using the <code>graph_from_object</code> function from <code>LightOSM</code> to first build a <code>LightOSM.OSMGraph</code> object which, due to the opinionated parsing of tags in <code>LightOSM</code> holds some made up values in the <code>ways</code> field for non-existing tags.</p><p>In this function, we replace these opinionated values with the ways we get from <code>ShadowGraphs.parse_raw_ways</code>. The main difference compared to <code>LightOSM</code> is, that we set every tag we expect from a street, but not get to <code>missing</code>, instead of assuming some value.</p><p>The in this way augmented graph gets then handed over to <a href="#ShadowGraphs.shadow_graph_from_light_osm_graph"><code>shadow_graph_from_light_osm_graph</code></a>.</p><p><strong>arguments</strong></p><ul><li>osm<em>data</em>object</li><li>network<em>type: type of network stored in osm</em>data_object. Options are the same as in <code>LightOSM</code>: </li></ul><p><code>:drive</code>, <code>:drive_service</code>, <code>:walk</code>, <code>:bike</code>, <code>:all</code>, <code>:all_private</code>, <code>:none</code>, <code>:rail</code></p><ul><li><code>timezone</code>: timezone the streets are in.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L481-L499">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.shadow_graph_from_light_osm_graph" href="#ShadowGraphs.shadow_graph_from_light_osm_graph"><code>ShadowGraphs.shadow_graph_from_light_osm_graph</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">shadow_graph_from_light_osm_graph(g; timezone)</code></pre><p>transforms a <code>LightOSM.OSMGraph</code> into a <code>MetaDiGraph</code>, containing only the topologically relevant nodes and edges. Attached to every edge and node comes a lot of data, needed for future processing of the graph, preserving all information coming from open street maps (I think we throw away the node tags).</p><p>The returned <code>MetaDiGraph</code> conforms to the requirements to be considered a shadow graph and used within the <code>MinistryOfCoolWalks</code> ecosystem.</p><p>All <code>props</code> prefixed with <code>sg_</code> are handled by functions within the <code>MinistryOfCoolWalks</code> ecosystem and should be considered read-only. Changing them directly might lead to unexpected behaviour.</p><p><code>timezone</code> is used to set the <code>tz</code> field of the <code>ShadowObservatory</code>.</p><p>Always clone geometries with <code>ArchGDAL.clone</code> if you want to use them separate of the graph. (Check your references!)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L352-L368">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.add_edge_with_data!" href="#ShadowGraphs.add_edge_with_data!"><code>ShadowGraphs.add_edge_with_data!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_edge_with_data!(g, s, d; data=Dict())</code></pre><p>adds new edge from <code>s</code> to <code>d</code> to <code>g::MetaDiGraph</code>, and populates it with the <code>props</code> given in <code>data</code>.</p><p><code>data</code> is expected to have at least a key <code>:sg_street_geometry</code>, containing the geometry of the street between <code>s</code> and <code>d</code> as an <code>ArchGDAL linestring</code> in the WSG84 system. (Use <code>CoolWalksUtils.apply_wsg_84!</code>)</p><p>Special care is given to self and multi edges:</p><ul><li>self edges: if <code>s==d</code>, two new vertices are added at 10% and 60% along the <code>:sg_street_geometry</code>, with <code>props</code> of <code>:sg_lat</code>, <code>:sg_lon</code>, <code>sg_geometry</code> and <code>:sg_helper=true</code> set acordingly.</li></ul><p>These new vertices (<code>h1</code> and <code>h2</code>) are then connected to form a loop like: <code>s --helper_edge1--&gt; h1 --real_edge--&gt; h2 --helper_edge2--&gt; d</code>, where <code>helper_edge1</code> and <code>helper_edge2</code> are helper edges with only one <code>prop</code> of <code>:sg_helper=true</code>. <code>real_edge</code> is carrying all the <code>props</code> defined in <code>data</code>.</p><ul><li>multi edges: if <code>Edge(s,d) ∈ Edges(g)</code>, we add one new helper vertex at 50% along the <code>:sg_street_geometry</code> with <code>props</code> of <code>:sg_lat</code>, <code>:sg_lon</code>, <code>sg_geometry</code> and <code>:sg_helper=true</code>.</li></ul><p>We connect to the graph like this: <code>s --helper_edge--&gt; h --real_edge--&gt; d</code>, where <code>helper_edge</code> is a helper edge with only one <code>prop</code>, <code>:sg_helper=true</code>. <code>real_edge</code> carries all the <code>props</code> specified in <code>data</code>.</p><p>This process is nessecary to preserve the street network topology, since <code>MetaDiGraph</code>s do not support multi edges (and therefore also no multi self edges).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L292-L310">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.geolinestring" href="#ShadowGraphs.geolinestring"><code>ShadowGraphs.geolinestring</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">geolinestring(nodes, node_id_list)</code></pre><p>creates an <code>ArchGDAL linestring</code> from a dictionary mapping osm node ids to <code>LightOSM.Node</code> and a list of osm node ids, representing the nodes of the linestring in order.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L276-L281">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.get_all_node_lists" href="#ShadowGraphs.get_all_node_lists"><code>ShadowGraphs.get_all_node_lists</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_all_node_lists(primitive_way, topological_osm_ids)</code></pre><p>get vector of vectors where each element contains the <code>osm_ids</code> between two topologically relevant nodes, in the same order as they occur in primitive way. Takes care of cyclical ways.</p><p>Only use on primitive ways.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L248-L255">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.decompose_way_to_primitives" href="#ShadowGraphs.decompose_way_to_primitives"><code>ShadowGraphs.decompose_way_to_primitives</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">decompose_way_to_primitives(way::Way)</code></pre><p>Decomposed a <code>way</code> with possible self-intersections/loops into multiple ways which are guaranteed to be either</p><ul><li>non-intersecting lines, where every node in the way is unique, or</li><li>circular ways, where only the first and last node in the way are not unique.</li></ul><p><strong>example</strong></p><p>a <code>way</code> with nodes <code>[10,20,30,40,50,30]</code> (which looks like a triangle on a stick, note the repeated <code>30</code>) will be decomposed into two ways, with the nodes <code>[10,20,30]</code> and <code>[30,40,50,30]</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L210-L220">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.get_rotational_direction" href="#ShadowGraphs.get_rotational_direction"><code>ShadowGraphs.get_rotational_direction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_rotational_direction(way::Way, nodes, direction)</code></pre><p>calculates the direction of rotation of the way if walked through in the direction of <code>direction</code> (either 1 or -1). Since the node locations are stored seperately, you have to pass in a dict <code>node_id=&gt;LightOSM.Node</code> into <code>nodes</code>. Used only on simplified ways.</p><p><strong>Returns</strong></p><ul><li><code>1</code> if the rotation is righthanded</li><li><code>-1</code> if the rotation is lefthanded</li><li><code>0</code> if the way is not closed</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L167-L177">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.countall" href="#ShadowGraphs.countall"><code>ShadowGraphs.countall</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">countall(numbers)</code></pre><p>counts how often every number appears in numbers. Returns dict with <code>number=&gt;count</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L160-L164">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.add_this_node" href="#ShadowGraphs.add_this_node"><code>ShadowGraphs.add_this_node</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_this_node(g, osm_id)</code></pre><p>checks if the node with <code>osm_id</code> in graph <code>g</code> should be added to the shadow graph. Currently, we add a node if one of the following is true:</p><ul><li>if the number of ways the node is part of is larger than 1</li><li>if the node is the end of a street, that is, if it has only one neighbour in <code>g</code></li><li>if the node occurs more than once in the way it is part of, excluding the end point, if the way is circular</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L128-L135">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.is_circular_way" href="#ShadowGraphs.is_circular_way"><code>ShadowGraphs.is_circular_way</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_circular_way(way::Way)</code></pre><p>checks if a <code>LightOSM.Way</code> way starts at the same node it ends.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L120-L124">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.is_end_node" href="#ShadowGraphs.is_end_node"><code>ShadowGraphs.is_end_node</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_end_node(g, index)</code></pre><p>checks if node <code>index</code> in graph <code>g</code> represents the end of a street (that is, has as most one neighbour).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L101-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.parse_raw_ways" href="#ShadowGraphs.parse_raw_ways"><code>ShadowGraphs.parse_raw_ways</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">parse_raw_ways(raw_ways, network_type)</code></pre><p>parses a list of dicts describing OSM Ways into <code>LightOSM.Way</code> instances. This function is a slightly modified version of the one used in <code>LightOSM</code> (<code>parse_osm_network_dict</code>), to be able to use our own, non-dafault value assuming parsers for the labels.</p><p><strong>returns</strong></p><p>a dictionary mapping <code>osm_id</code> to <code>LightOSM.Way</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L49-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.parse_lanes" href="#ShadowGraphs.parse_lanes"><code>ShadowGraphs.parse_lanes</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">parse_lanes(tags::AbstractDict, tagname)</code></pre><p>parses the value of the key <code>tagname</code> in <code>tags</code>, assuming it to be a numerical value describing a certain number of lanes. Returns the parsed number of lanes if the tag exists or <code>missing</code> if not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L21-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ShadowGraphs.width" href="#ShadowGraphs.width"><code>ShadowGraphs.width</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">width(tags)</code></pre><p>less opinionated version of the basic parsing <code>LightOSM</code> does, to parse the <code>width</code> tag of an osm way. Returns the parsed width if the tag exists or <code>missing</code> if not. If values are negative, we take the absolute value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/ShadowGraphs.jl/blob/d76cc7ef0996a9db1eef0dd3829c6d3528770287/src/BuildGraph.jl#L2-L7">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../Persistence/">Graph saving (and loading) »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Tuesday 19 March 2024 20:09">Tuesday 19 March 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
